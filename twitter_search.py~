import urllib
import json
import sys
import argparse

def search_twitter(query):
    url = 'http://search.twitter.com/search.json?q=' + query
    response = urllib.urlopen(url).read()
    data = json.loads(response)
    return data['results']

def search_user(query):
    url = 'https://api.twitter.com/1/users/show.json?screen_name=' + query
    response = urllib.urlopen(url).read()
    data = json.loads(response)
    return data['status']

def print_tweets(tweets):
    for tweet in tweets:
        print tweet['text'] + '\n'

if __name__ == "__main__":
    query = sys.argv[1]
    results = search_user(query)
    print_tweets(status)


#parser = argparse.ArgumentParser()
#parser.add_argument('--user' dest='username' action=search_user(username)
